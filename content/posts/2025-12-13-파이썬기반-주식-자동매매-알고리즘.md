---
title: "파이썬기반 주식 자동매매 알고리즘"
date: 2025-12-13 22:05:41
draft: false
summary: "## 🎯 프롬프트 설명  이 프롬프트는 파이썬 자동 주식 매매 봇의 기본 구조를 생성하는 것을 목표로 합니다. 특히 이동평균선 골든 크로스 전략..."
categories: ["코딩"]
cover:
    image: "https://picsum.photos/seed/파이썬기반-주식-자동매매-알고리즘71/800/400"
    alt: "파이썬기반 주식 자동매매 알고리즘"
    relative: false
---
## 🎯 프롬프트 설명

이 프롬프트는 파이썬 자동 주식 매매 봇의 기본 구조를 생성하는 것을 목표로 합니다. 특히 이동평균선 골든 크로스 전략을 사용하고, 백테스팅과 손절매 로직을 포함하여 실제 매매에 적용하기 위한 기반을 마련합니다.

## 📋 프롬프트 내용 (복사해서 사용하세요)
```markdown
당신은 최고의 파이썬 전문가이자 자동 주식 매매 시스템 개발자입니다. 아래 요구사항에 맞춰 이동평균선 골든 크로스 전략을 사용하는 파이썬 기반 자동매매 봇의 기본 코드를 작성해주세요.

**요구사항:**

1.  **라이브러리:** `ccxt` 또는 `pyupbit` 라이브러리 중 하나를 선택하여 사용하세요. 선택한 이유를 설명해주세요. (예: `ccxt`는 더 많은 거래소를 지원하므로 선택, `pyupbit`은 업비트 API 사용에 최적화되어 선택).  라이브러리 설치 코드를 포함해주세요.

2.  **전략:**
    *   **골든 크로스:** 짧은 기간 이동평균선(예: 5일)이 긴 기간 이동평균선(예: 20일)을 상향 돌파할 때 매수 신호로 간주합니다.
    *   **데드 크로스:** 짧은 기간 이동평균선이 긴 기간 이동평균선을 하향 돌파할 때 매도 신호로 간주합니다.

3.  **기능:**
    *   **데이터 수집:** 거래소 API를 사용하여 특정 종목의 과거 데이터(캔들 데이터)를 수집합니다.
    *   **이동평균 계산:** 수집된 데이터를 기반으로 짧은 기간 및 긴 기간 이동평균선을 계산합니다.
    *   **매매 로직:** 골든 크로스 발생 시 매수, 데드 크로스 발생 시 매도합니다.
    *   **백테스팅:** 과거 데이터를 사용하여 전략의 성능을 평가합니다. 간단한 수익률 계산을 포함해주세요.
    *   **리스크 관리 (손절매):** 매수 후 가격이 일정 비율(예: -3%) 하락하면 자동으로 손절매합니다.
    *   **예외 처리:** API 요청 실패, 네트워크 문제 등의 예외 상황에 대한 기본적인 처리 로직을 포함합니다.
    *   **주문:** 지정가 주문(Limit Order) 사용을 고려하여, slippage를 최소화하는 로직을 포함하세요.
    *   **현재가 조회:** 매수/매도 시점에 현재가를 조회하여 주문 가격을 결정합니다.

4.  **코드 구조:**
    *   함수 기반으로 코드를 구성하여 가독성과 유지보수성을 높입니다.
    *   각 함수의 역할과 입력/출력을 명확하게 주석으로 설명합니다.
    *   설정 값 (거래소 API 키, 종목 코드, 이동평균 기간, 손절매 비율 등)은 변수로 관리하여 쉽게 변경할 수 있도록 합니다.
    *   매매 로직을 모듈화하여 다른 전략으로 쉽게 교체할 수 있도록 설계합니다.

5.  **출력:**
    *   전체 파이썬 코드를 마크다운 코드 블록으로 출력합니다.
    *   코드에 대한 간략한 설명과 사용법을 함께 제공합니다.
    *   백테스팅 결과 해석에 대한 간단한 가이드라인을 제공합니다. (예: 백테스팅 수익률, 최대 낙폭(MDD) 등)

6.  **제약 조건:**
    *   실제 거래에 바로 사용하지 말고, 반드시 충분한 백테스팅과 모의 투자를 거친 후 사용해야 함을 명시합니다.
    *   코드는 이해하기 쉽고 간결하게 작성되어야 합니다.
    *   모든 API 키 및 개인 정보는 코드에 포함하지 않도록 주의합니다.

7.  **추가 고려 사항:**
    *   거래 수수료를 고려하여 수익률을 계산하는 로직을 포함하세요.
    *   거래량 급증, 뉴스 이벤트 등의 외부 요인으로 인한 예외적인 상황에 대한 간단한 처리 로직을 고려하세요. (예: 거래량 급증 시 매수/매도 보류)
    *   최적화된 매개변수(이동평균 기간, 손절매 비율 등)을 찾는 방법에 대한 힌트를 제공하세요. (예: Grid Search, Random Search 등의 방법을 사용 가능)

**출력 형식:**

```python
# 여기에 파이썬 코드
```

**라이브러리 선택 이유:** (선택한 라이브러리에 대한 설명)

**코드 설명:** (코드에 대한 전반적인 설명)

**사용법:** (코드 실행 방법, 필요한 환경 설정 등)

**백테스팅 결과 해석 가이드:** (백테스팅 결과 해석 방법 및 주의사항)
```

## 💡 사용 팁

1.  **라이브러리 선택 이유 명시:** `ccxt` 또는 `pyupbit` 중 어떤 라이브러리를 선택할지, 그리고 그 이유를 명확하게 제시하여 AI가 최적의 코드를 생성하도록 유도합니다.
2.  **구체적인 파라미터 값 제시:** 이동평균 기간, 손절매 비율 등 구체적인 값을 예시로 제공하여 AI가 더욱 현실적인 코드를 생성할 수 있도록 돕습니다.
3.  **모듈화 강조:** 매매 로직을 모듈화하도록 지시하여, 추후 다른 전략으로 쉽게 교체할 수 있도록 유연성을 확보합니다.
